{"version":3,"sources":["serviceWorker.js","components/common/Header.js","components/ListElement/ListElement.js","components/common/ErrorMsg.js","components/common/EndMsg.js","components/ModalMainElement/ModalMainElement.js","components/ModalSecElement/ModalSecElement.js","components/Modal/Modal.js","components/List/List.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","Header","react_default","a","createElement","className","ListElement","props","react_router_dom","to","id","src","image","alt","name","tagline","ErrorMsg","EndMsg","ModalMainElement","ibu","abv","ebc","description","ModalSecElement","Modal","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","changeMainBeer","newId","setState","isMainLoading","isSecLoading","fetchBeer","assertThisInitialized","handleEscapeClick","e","history","push","handleBodyClick","stopPropagation","state","params","error","errorSec","mainData","secData","secDataAccuracy","mainBeerSection","relatedBeersSection","_this2","components_ModalMainElement_ModalMainElement","image_url","secElements","getRelatedBeers","map","el","i","key","onClick","components_ModalSecElement_ModalSecElement","dist_default","React","Component","beerId","_this3","fetch","apiUrl","then","response","ok","json","Error","data","relProps","getRelatedBeersData","fetchRelatedBeers","catch","_this4","searchQuery","abvMax","abvMin","ibuMax","ibuMin","ebcMax","ebcMin","length","newRelProps","beerData","accFact","arguments","undefined","accFactor","parseInt","mainProps","propsRanges","Number","Math","round","mainBeerId","inputArr","num","uniqueProperty","forEach","resultArray","uniquePropertyArray","toConsumableArray","randomElementProperty","min","max","floor","random","indexOf","uniqueElement","filter","elem","randomizeUniqueElements","query","List","getMoreData","nextPage","concat","moreItemsToLoad","common_ErrorMsg","loader","lib_default","dataLength","scrollThreshold","next","hasMore","endMessage","common_EndMsg","beer","components_ListElement_ListElement","react_router","path","component","App","common_Header","List_List","ReactDOM","render","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e03916bf.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n\r\nconst Header = () => {\r\n  return(\r\n    <header className=\"header\">\r\n      <div className=\"container\">\r\n        <h1 className=\"header__title\"><span className=\"header__title--color\">Fetch</span>Me<span className=\"header__title--color\">Beer</span></h1>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nconst ListElement = (props) => {\r\n  return(\r\n    <div className=\"col-sm-6 col-lg-4 col-xl-3 list__element\">\r\n      <Link className=\"list__link\" to={\"/beer/\" + props.id}>\r\n        <figure className=\"list__figure\">\r\n          <img \r\n            className=\"img-thumbnail list__img\"\r\n            src={props.image}\r\n            alt={props.name + '-image'}/>\r\n          <figcaption className=\"list__figcaption\">\r\n            <h2 className=\"h2 list__title\">{props.name}</h2>\r\n            <p className=\"list__descr\">{props.tagline}</p>\r\n          </figcaption>\r\n        </figure>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nListElement.propTypes = {\r\n  id: PropTypes.number,\r\n  name: PropTypes.string,\r\n  tagline: PropTypes.string,\r\n  image: PropTypes.string\r\n};\r\n\r\nexport default ListElement;","import React from 'react';\r\n\r\nconst ErrorMsg = () => {\r\n  return(\r\n    <div className=\"container error-msg\">\r\n      <h2 className=\"error-msg__title\">Error!</h2>\r\n      <p className=\"error-msg__text\">We're terribly sorry. No beers could be loaded at the time! :(</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMsg;","import React from 'react';\r\n\r\nconst EndMsg = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-12\">\r\n          <p className=\"end-message-text\">\r\n            Seems like these are all the beers as for today! Come back later for more!\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EndMsg;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ModalMainElement = (props) => {\r\n\treturn(\r\n\t\t<section className=\"mod__main\">\r\n\t\t\t<img \r\n\t\t\t\tclassName=\"mod__img\"\r\n\t\t\t\tsrc={props.image}\r\n\t\t\t\talt={props.name + '-image'}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mod__content\">\r\n\t\t\t\t<h2 className=\"h2 mod__title\">{props.name}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<p className=\"mod__tagline\">{props.tagline}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"mod__params\">\r\n\t\t\t\t<strong>IBU:</strong>\r\n\t\t\t\t{props.ibu} <strong>ABV:</strong>\r\n\t\t\t\t{props.abv} <strong>EBC:</strong>\r\n\t\t\t\t{props.ebc}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"mod__descr\">{props.description}</p>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nModalMainElement.propTypes = {\r\n\tname: PropTypes.string,\r\n\timage: PropTypes.string,\r\n\ttagline: PropTypes.string,\r\n\tibu: PropTypes.number,\r\n\tabv: PropTypes.number,\r\n\tebc: PropTypes.number,\r\n\tdescription: PropTypes.string\r\n};\r\n\r\nexport default ModalMainElement;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nconst ModalSecElement = (props) => {\r\n\treturn(\r\n\t\t<div className=\"mod__sec-content\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"mod__img-sec\"\r\n\t\t\t\tsrc={props.image}\r\n\t\t\t\talt={props.image + '-image'}\r\n\t\t\t/>\r\n\t\t\t<h4 className=\"mod__sec-title\">\r\n\t\t\t\t{props.name}\r\n\t\t\t</h4>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nModalSecElement.propTypes = {\r\n\tid: PropTypes.number,\r\n\tname: PropTypes.string,\r\n\timage: PropTypes.string\r\n};\r\n\r\nexport default ModalSecElement;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport ScrollLock from 'react-scrolllock';\r\n\r\nimport ModalMainElement from '../ModalMainElement/ModalMainElement';\r\nimport ModalSecElement from '../ModalSecElement/ModalSecElement';\r\n\r\nimport { apiUrl } from '../List/List';\r\nconst query = 'beers/';\r\n\r\nexport default class Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisMainLoading: true,\r\n\t\t\tisSecLoading: true,\r\n\t\t\tid: this.props.match.params.id,\r\n\t\t\terror: null,\r\n\t\t\terrorSec: null,\r\n\t\t\tmainData: null,\r\n\t\t\tsecData: null,\r\n\t\t\tsecDataAccuracy: 1\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tfetchBeer.call(this, this.props.match.params.id);\r\n\t}\r\n\r\n\tchangeMainBeer = newId => {\r\n\t\tthis.setState({\r\n\t\t\tisMainLoading: true,\r\n\t\t\tisSecLoading: true\r\n\t\t});\r\n\t\tfetchBeer.call(this, newId);\r\n\t\treturn;\r\n\t}\r\n\r\n\thandleEscapeClick = e => {\r\n\t\tthis.props.history.push('/');\r\n\t\treturn;\r\n\t}\r\n\r\n\thandleBodyClick = e => {\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\trender() {\r\n\t\t// Main beer section\r\n\t\tlet mainBeerSection;\r\n\t\tif (this.state.isMainLoading) {\r\n\t\t\tmainBeerSection = (\r\n\t\t\t\t<section className=\"mod__main\">\r\n\t\t\t\t\t<div className=\"loading\"/>\r\n\t\t\t\t</section>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tmainBeerSection = (\r\n\t\t\t\t<ModalMainElement\r\n\t\t\t\t\tname={this.state.mainData[0].name}\r\n\t\t\t\t\timage={this.state.mainData[0].image_url}\r\n\t\t\t\t\ttagline={this.state.mainData[0].tagline}\r\n\t\t\t\t\tibu={this.state.mainData[0].ibu}\r\n\t\t\t\t\tabv={this.state.mainData[0].abv}\r\n\t\t\t\t\tebc={this.state.mainData[0].ebc}\r\n\t\t\t\t\tdescription={this.state.mainData[0].description}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\t// Related beers section\r\n\t\tlet relatedBeersSection;\r\n\t\tif (this.state.isSecLoading) {\r\n\t\t\trelatedBeersSection = (\r\n\t\t\t\t<section className=\"row mod__sec\">\r\n\t\t\t\t\t<div className=\"loading\"/>\r\n\t\t\t\t</section>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst secElementsData = getRelatedBeers(this.state.secData, this.state.id);\r\n\t\t\tconst secElements = secElementsData.map((el, i) => {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tclassName=\"mod__sec-link col-4\"\r\n\t\t\t\t\t\tto={\"/beer/\" + el.id}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.changeMainBeer(el.id);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<ModalSecElement\r\n\t\t\t\t\t\t\tid={el.id}\r\n\t\t\t\t\t\t\tname={el.name}\r\n\t\t\t\t\t\t\timage={el.image_url}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\trelatedBeersSection = (\r\n\t\t\t\t<section className=\"row mod__sec\">\r\n\t\t\t\t\t<p className=\"mod__sec-info\">\r\n\t\t\t\t\t\tYou might also like:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t{secElements}\r\n\t\t\t\t</section>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Actual render\r\n\t\treturn(\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"mod\"\r\n\t\t\t\tonClick={this.handleEscapeClick}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"mod__body\"\r\n\t\t\t\t\tonClick={this.handleBodyClick}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"mod__escape-btn\"\r\n\t\t\t\t\t\tonClick={this.handleEscapeClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{mainBeerSection}\r\n\t\t\t\t\t{relatedBeersSection}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ScrollLock/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nModal.propTypes = {\r\n  match: PropTypes.shape({\r\n\t\tparams: PropTypes.shape({\r\n\t\t\tid: PropTypes.string\r\n\t\t})\r\n\t}),\r\n\thistory: PropTypes.shape({\r\n\t\tpush: PropTypes.func\r\n\t})\r\n};\r\n\r\n/* Fetch functions */\r\n\r\n// Fetch main item by ID (selected by user)\r\nconst fetchBeer = function(beerId) {\r\n\tfetch(apiUrl + query + beerId)\r\n\t\t.then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('Sorry. An error occurred...');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmainData: data,\r\n\t\t\t\tisMainLoading: false\r\n\t\t\t}, () => {\r\n\t\t\t\t// Fetchnig sec items here\r\n\t\t\t\tconst relProps = getRelatedBeersData(this.state.mainData, this.state.secDataAccuracy);\r\n\t\t\t\tfetchRelatedBeers.call(this, relProps);\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch(error => this.setState({error: error}));\r\n};\r\n\r\n// Fetch items similar to main items\r\nconst fetchRelatedBeers = function(relProps) {\r\n\tif(!relProps) {\r\n\t\treturn false;\r\n\t}\r\n\t// Generating conditional search API url\r\n\tconst searchQuery = 'beers?' +\r\n\t\t'abv_lt=' + relProps.abvMax +\r\n\t\t'&abv_gt=' + relProps.abvMin +\r\n\t\t'&ibu_lt=' + relProps.ibuMax +\r\n\t\t'&ibu_gt=' + relProps.ibuMin +\r\n\t\t'&ebc_lt=' + relProps.ebcMax +\r\n\t\t'&ebc_gt=' + relProps.ebcMin;\r\n\t\r\n\t// Fetching items\r\n\tfetch(apiUrl + searchQuery)\r\n\t\t.then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('Sorry. An error occurred...');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tsecData: data,\r\n\t\t\t\tisSecLoading: data.length > 3 ? false : true,\r\n\t\t\t\tsecDataAccuracy: this.state.secDataAccuracy * 2\r\n\t\t\t}, () => {\r\n\t\t\t\tif (this.state.secData.length < 4) {\r\n\t\t\t\t\tconst newRelProps = getRelatedBeersData(this.state.mainData, this.state.secDataAccuracy);\r\n\t\t\t\t\tfetchRelatedBeers.call(this, newRelProps);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch(error => this.setState({errorSec: error}));\r\n\t\t\r\n\treturn false;\r\n};\r\n\r\n/* Select functions */\r\n\r\n// Get data of items similar to main item\r\nconst getRelatedBeersData = (beerData, accFact = 1) => {\r\n\t// Initial function conditions\r\n\tif (!beerData) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet accFactor = parseInt(accFact);\r\n\r\n\tif (typeof accFactor !== 'number') {\r\n\t\taccFactor = 1;\r\n\t}\r\n\r\n\tconst mainProps = {\r\n\t\t// alcohol\r\n\t\tabv: beerData[0].abv,\r\n\t\t// bitterness 8 - 120+\r\n\t\tibu: beerData[0].ibu,\r\n\t\t// colour 4 - 138\r\n\t\tebc: beerData[0].ebc\r\n\t};\r\n\t\r\n\tconst propsRanges = {\r\n\t\tabv: (mainProps.abv < 6 ? 1.5 : 2.5) * accFactor,\r\n\t\tibu: (mainProps.ibu < 30 ? 7 : 14) * accFactor,\r\n\t\tebc: (mainProps.ebc < 30 ? 5 : 10) * accFactor\r\n\t};\r\n\r\n\tlet relProps = {};\r\n\tfor (let key in mainProps) {\r\n\t\t// Get properties of related items\r\n\t\trelProps[(key + \"Min\")] = Number(mainProps[key]) - Number(propsRanges[key]);\r\n\t\trelProps[(key + \"Max\")] = Number(mainProps[key]) + Number(propsRanges[key]);\r\n\t}\r\n\r\n\tfor (let key in relProps) {\r\n\t\t// Beautify properties\r\n\t\trelProps[key] = Math.round(parseInt(relProps[key]));\r\n\t\t// Set property as 0 if less than 0\r\n\t\trelProps[key] = relProps[key] > 0 ? relProps[key] : 0;\r\n\t}\r\n\treturn relProps;\r\n};\r\n\r\n// Choose items to display as secondary\r\nconst getRelatedBeers = function(beerData, mainBeerId) {\r\n\tif(beerData.length < 4 || !mainBeerId) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Remove main beer from list\r\n\tlet trimmedBeerData = [...beerData].filter(el => {\r\n\t\treturn el.id !== Number(mainBeerId);\r\n\t});\r\n\r\n\t// Get 3 unique elements from list\r\n\tconst secElementsData = randomizeUniqueElements(trimmedBeerData, 3, 'id');\r\n\r\n\treturn secElementsData;\r\n};\r\n\r\n/* Unit functions */\r\n\r\n// Get random number\r\nfunction getRandomNum(min, max) {\r\n\treturn Math.floor(Math.random() * (max - min) + min);\r\n}\r\n\r\n// Randomize unique elements from list\r\nfunction randomizeUniqueElements(inputArr, num, uniqueProperty = \"id\") {\r\n\tif (\r\n\t\ttypeof num !== 'number' ||\r\n\t\tinputArr.length < num ||\r\n\t\ttypeof uniqueProperty !== 'string' \r\n\t) {\r\n\t\treturn false;\r\n\t}\r\n\t// Check if every object has unique property\r\n\tinputArr.forEach(el => {\r\n\t\tif(!el[uniqueProperty]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\t// Function body\r\n\tlet resultArray = [];\r\n\tlet uniquePropertyArray = [];\r\n\tif(inputArr.length === num) {\r\n\t\tresultArray = [...inputArr];\r\n\t} else {\r\n\t\t// Get unique IDs to be returned\r\n\t\twhile(uniquePropertyArray.length < num) {\r\n\t\t\tconst randomElementProperty = inputArr[getRandomNum(0, inputArr.length - 1)][uniqueProperty];\r\n\t\t\tif (uniquePropertyArray.indexOf(randomElementProperty) > -1) continue;\r\n\t\t\tuniquePropertyArray.push(randomElementProperty);\r\n\t\t}\r\n\t\t// Get elements with unique IDs\r\n\t\tuniquePropertyArray.forEach(el => {\r\n\t\t\tconst uniqueElement = inputArr.filter(elem => {\r\n\t\t\t\treturn elem[uniqueProperty] === el;\r\n\t\t\t});\r\n\t\t\tresultArray.push(uniqueElement[0]);\r\n\t\t});\r\n\t}\r\n\r\n\treturn resultArray;\r\n}\r\n\r\n// Exporting functions for testing purposes\r\nexport {\r\n\tfetchBeer,\r\n\tfetchRelatedBeers,\r\n\tgetRelatedBeersData,\r\n\tgetRelatedBeers,\r\n\tgetRandomNum,\r\n\trandomizeUniqueElements\r\n};","import React from 'react';\r\nimport 'whatwg-fetch';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nimport ListElement from '../ListElement/ListElement';\r\nimport ErrorMsg from '../common/ErrorMsg';\r\nimport EndMsg from '../common/EndMsg';\r\nimport Modal from '../Modal/Modal';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nconst apiUrl = 'https://api.punkapi.com/v2/';\r\nconst query = 'beers?per_page=20&page=';\r\n\r\nexport default class List extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      nextPage: 1,\r\n      error: null,\r\n      moreItemsToLoad: true\r\n    };\r\n  } \r\n\r\n  componentDidMount() {\r\n    this.getMoreData();\r\n  }\r\n\r\n  getMoreData = () => {\r\n    fetch(apiUrl + query + this.state.nextPage)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error('Sorry. An error occurred...');\r\n        }\r\n      })\r\n      .then(data => {this.setState({\r\n        data: [...this.state.data, ...data],\r\n        nextPage: this.state.nextPage + 1\r\n        });\r\n        if (this.state.data.length === [...this.state.data, ...data].length) {\r\n          this.setState({ moreItemsToLoad: false });\r\n        }})\r\n      .catch(error => this.setState({error: error}));\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return <ErrorMsg/>;\r\n    }\r\n\r\n    const loader = (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12\">\r\n            <p className=\"loading-text\">\r\n              Fetching more beers for ya! Hold on...\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n    \r\n    return(\r\n      <InfiniteScroll\r\n        dataLength={this.state.data.length}\r\n        scrollThreshold={0.9}\r\n        next={this.getMoreData}\r\n        hasMore={this.state.moreItemsToLoad}\r\n        loader={loader}\r\n        endMessage={<EndMsg/>}>\r\n        <div className=\"container\">\r\n          <div className=\"row list\">\r\n          {this.state.data.map((beer, key) => {\r\n              return (<ListElement \r\n                key={key}\r\n                id={beer.id}\r\n                name={beer.name}\r\n                tagline={beer.tagline}\r\n                image={beer.image_url}/>);\r\n            })}\r\n          </div>\r\n        </div>\r\n        <Route path=\"/beer/:id\" component={Modal} />\r\n      </InfiniteScroll>\r\n    );\r\n  }\r\n}\r\n\r\nexport { apiUrl };","import React from 'react';\r\nimport Header from './common/Header';\r\nimport List from './List/List';\r\n\r\nconst App = () => {\r\n  return(\r\n    <div>\r\n      <Header/>\r\n      <List/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport \"./styles/bootstrap-reboot.min.css\";\r\nimport \"./styles/bootstrap-grid.min.css\";\r\nimport \"./styles/styles.css\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"app\")\r\n);\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}